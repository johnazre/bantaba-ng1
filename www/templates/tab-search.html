<ion-view view-title="Search">
  <ion-content>
    <div class="list">
      <label class="item item-input item-select">
        <div class="input-label">
          Location or Performer
        </div>
        <select ng-options="filter for filter in vm.searchFilters" ng-model="vm.selectedOption"></select>
      </label>
      <label ng-if="vm.selectedOption === 'Performer'" class="item item-input">
        <input type="text" placeholder="Search for a performer" ng-model="vm.searchTerm">
      </label>
      <label ng-if="vm.selectedOption === 'Location'" class="item item-input">
        <select ng-options="state for state in vm.states" ng-model="vm.selectedState" ng-change=" vm.getCities(vm.selectedState)">
          <option value="" disabled>Select a State</option>
        </select>
        <select ng-options="city.name for city in vm.cities" ng-model="vm.selectedCity" ng-change=" vm.getCities(vm.selectedCity)">
          <option value="" disabled>Select a City</option>
        </select>
      </label>
      <button class="button button-block button-positive" ng-click="vm.searchFilter()">Search</button>
      <div class="item item-button-right" ng-repeat="result in vm.results">
        {{result.name}} - {{result.start_date | date}}
        <button type="button" class="button button-positive">Follow</button>
      </div>
    </div>
  </ion-content>
</ion-view>
